<%= turbo_frame_tag "post_form" do %>
  <%= form_with(model: @post, id: "post_form", data: { extended_modal_target: 'form' }) do |form| %>
    <div class="px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
      <% if @post.errors.any? %>
        <div id="error_explanation">
          <h2>
            Could not save post
          </h2>
          <ul>
            <% @post.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <div class="form-group">
        <%= form.label :name %>
        <%= form.text_field :name %>
      </div>

    </div>
    <div class="bg-gray-50 rounded-b px-4 py-3 sm:px-6 mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense">
      <%= form.button class: "w-full btn btn-primary sm:col-start-2" %>
      <button data-action="click->extended-modal#close" class="mt-3 w-full btn btn-white sm:mt-0 sm:col-start-1">
        Cancel
      </button>

      <% if form.object.persisted? %>
        <%= link_to 'Delete', form.object, class: "mt-3 w-full btn btn-danger outline sm:mt-0", method: :delete, data: { confirm: "Are you sure?" } %>
      <% end %>
    </div>
  <% end %>
<% end %>
